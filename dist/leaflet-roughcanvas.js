require("core-js/modules/es.symbol"),require("core-js/modules/es.symbol.description"),require("core-js/modules/es.symbol.iterator"),require("core-js/modules/es.array.concat"),require("core-js/modules/es.array.fill"),require("core-js/modules/es.array.from"),require("core-js/modules/es.array.iterator"),require("core-js/modules/es.array.join"),require("core-js/modules/es.array.reduce"),require("core-js/modules/es.array.slice"),require("core-js/modules/es.array.splice"),require("core-js/modules/es.function.name"),require("core-js/modules/es.number.constructor"),require("core-js/modules/es.number.max-safe-integer"),require("core-js/modules/es.object.assign"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.reflect.construct"),require("core-js/modules/es.regexp.constructor"),require("core-js/modules/es.regexp.exec"),require("core-js/modules/es.regexp.to-string"),require("core-js/modules/es.string.iterator"),require("core-js/modules/es.string.match"),require("core-js/modules/es.string.replace"),require("core-js/modules/es.string.trim"),require("core-js/modules/web.dom-collections.iterator"),require("core-js/modules/web.url"),function(t,e){if("function"==typeof define&&define.amd)define(["@babel/runtime/regenerator","regenerator-runtime/runtime","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/helpers/typeof","@babel/runtime/helpers/inherits","@babel/runtime/helpers/possibleConstructorReturn","@babel/runtime/helpers/getPrototypeOf","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass"],e);else if("undefined"!=typeof exports)e(require("@babel/runtime/regenerator"),require("regenerator-runtime/runtime"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/helpers/typeof"),require("@babel/runtime/helpers/inherits"),require("@babel/runtime/helpers/possibleConstructorReturn"),require("@babel/runtime/helpers/getPrototypeOf"),require("@babel/runtime/helpers/classCallCheck"),require("@babel/runtime/helpers/createClass"));else{e(t.regenerator,t.runtime,t.asyncToGenerator,t._typeof,t.inherits,t.possibleConstructorReturn,t.getPrototypeOf,t.classCallCheck,t.createClass),t.unknown={}}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(t,e,r,i,n,s,a,o,h){var u=require("@babel/runtime/helpers/interopRequireDefault");function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,a.default)(t);if(e){var n=(0,a.default)(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return(0,s.default)(this,r)}}function c(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function p(t,e){return t.type===e}t=u(t),r=u(r),i=u(i),n=u(n),s=u(s),a=u(a),o=u(o),h=u(h);var d={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:4,t:2,V:1,v:1,Z:0,z:0},v=function(){function t(e){(0,o.default)(this,t),this.COMMAND=0,this.NUMBER=1,this.EOD=2,this.segments=[],this.parseData(e),this.processPoints()}return(0,h.default)(t,[{key:"tokenize",value:function(t){for(var e=new Array;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:this.COMMAND,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return console.error("Unrecognized segment command: "+t),[];e[e.length]={type:this.NUMBER,text:"".concat(parseFloat(RegExp.$1))},t=t.substr(RegExp.$1.length)}return e[e.length]={type:this.EOD,text:""},e}},{key:"parseData",value:function(t){var e=this.tokenize(t),r=0,i=e[r],n="BOD";for(this.segments=new Array;!p(i,this.EOD);){var s=void 0,a=new Array;if("BOD"===n){if("M"!==i.text&&"m"!==i.text)return void this.parseData("M0,0"+t);r++,s=d[i.text],n=i.text}else p(i,this.NUMBER)?s=d[n]:(r++,s=d[i.text],n=i.text);if(r+s<e.length){for(var o=r;o<r+s;o++){var h=e[o];if(!p(h,this.NUMBER))return void console.error("Parameter type is not a number: "+n+","+h.text);a[a.length]=+h.text}if("number"!=typeof d[n])return void console.error("Unsupported segment type: "+n);var u={key:n,data:a};this.segments.push(u),i=e[r+=s],"M"===n&&(n="L"),"m"===n&&(n="l")}else console.error("Path data ended before all parameters were found")}}},{key:"processPoints",value:function(){for(var t=null,e=[0,0],r=0;r<this.segments.length;r++){var i=this.segments[r];switch(i.key){case"M":case"L":case"T":i.point=[i.data[0],i.data[1]];break;case"m":case"l":case"t":i.point=[i.data[0]+e[0],i.data[1]+e[1]];break;case"H":i.point=[i.data[0],e[1]];break;case"h":i.point=[i.data[0]+e[0],e[1]];break;case"V":i.point=[e[0],i.data[0]];break;case"v":i.point=[e[0],i.data[0]+e[1]];break;case"z":case"Z":t&&(i.point=[t[0],t[1]]);break;case"C":i.point=[i.data[4],i.data[5]];break;case"c":i.point=[i.data[4]+e[0],i.data[5]+e[1]];break;case"S":i.point=[i.data[2],i.data[3]];break;case"s":i.point=[i.data[2]+e[0],i.data[3]+e[1]];break;case"Q":i.point=[i.data[2],i.data[3]];break;case"q":i.point=[i.data[2]+e[0],i.data[3]+e[1]];break;case"A":i.point=[i.data[5],i.data[6]];break;case"a":i.point=[i.data[5]+e[0],i.data[6]+e[1]]}"m"!==i.key&&"M"!==i.key||(t=null),i.point&&(e=i.point,t||(t=i.point)),"z"!==i.key&&"Z"!==i.key||(t=null)}}},{key:"closed",get:function(){if(void 0===this._closed){this._closed=!1;var t,e=c(this.segments);try{for(e.s();!(t=e.n()).done;){"z"===t.value.key.toLowerCase()&&(this._closed=!0)}}catch(t){e.e(t)}finally{e.f()}}return this._closed}}]),t}(),y=function(){function t(e){(0,o.default)(this,t),this._position=[0,0],this._first=null,this.bezierReflectionPoint=null,this.quadReflectionPoint=null,this.parsed=new v(e)}return(0,h.default)(t,[{key:"setPosition",value:function(t,e){this._position=[t,e],this._first||(this._first=[t,e])}},{key:"segments",get:function(){return this.parsed.segments}},{key:"closed",get:function(){return this.parsed.closed}},{key:"linearPoints",get:function(){if(!this._linearPoints){var t,e=[],r=[],i=c(this.parsed.segments);try{for(i.s();!(t=i.n()).done;){var n=t.value,s=n.key.toLowerCase();("m"!==s&&"z"!==s||(r.length&&(e.push(r),r=[]),"z"!==s))&&(n.point&&r.push(n.point))}}catch(t){i.e(t)}finally{i.f()}r.length&&(e.push(r),r=[]),this._linearPoints=e}return this._linearPoints}},{key:"first",get:function(){return this._first},set:function(t){this._first=t}},{key:"position",get:function(){return this._position}},{key:"x",get:function(){return this._position[0]}},{key:"y",get:function(){return this._position[1]}}]),t}(),g=function(){function t(e,r,i,n,s,a){if((0,o.default)(this,t),this._segIndex=0,this._numSegs=0,this._rx=0,this._ry=0,this._sinPhi=0,this._cosPhi=0,this._C=[0,0],this._theta=0,this._delta=0,this._T=0,this._from=e,e[0]!==r[0]||e[1]!==r[1]){var h=Math.PI/180;this._rx=Math.abs(i[0]),this._ry=Math.abs(i[1]),this._sinPhi=Math.sin(n*h),this._cosPhi=Math.cos(n*h);var u=this._cosPhi*(e[0]-r[0])/2+this._sinPhi*(e[1]-r[1])/2,l=-this._sinPhi*(e[0]-r[0])/2+this._cosPhi*(e[1]-r[1])/2,c=0,f=this._rx*this._rx*this._ry*this._ry-this._rx*this._rx*l*l-this._ry*this._ry*u*u;if(f<0){var p=Math.sqrt(1-f/(this._rx*this._rx*this._ry*this._ry));this._rx=this._rx*p,this._ry=this._ry*p,c=0}else c=(s===a?-1:1)*Math.sqrt(f/(this._rx*this._rx*l*l+this._ry*this._ry*u*u));var d=c*this._rx*l/this._ry,v=-c*this._ry*u/this._rx;this._C=[0,0],this._C[0]=this._cosPhi*d-this._sinPhi*v+(e[0]+r[0])/2,this._C[1]=this._sinPhi*d+this._cosPhi*v+(e[1]+r[1])/2,this._theta=this.calculateVectorAngle(1,0,(u-d)/this._rx,(l-v)/this._ry);var y=this.calculateVectorAngle((u-d)/this._rx,(l-v)/this._ry,(-u-d)/this._rx,(-l-v)/this._ry);!a&&y>0?y-=2*Math.PI:a&&y<0&&(y+=2*Math.PI),this._numSegs=Math.ceil(Math.abs(y/(Math.PI/2))),this._delta=y/this._numSegs,this._T=8/3*Math.sin(this._delta/4)*Math.sin(this._delta/4)/Math.sin(this._delta/2)}}return(0,h.default)(t,[{key:"getNextSegment",value:function(){if(this._segIndex===this._numSegs)return null;var t=Math.cos(this._theta),e=Math.sin(this._theta),r=this._theta+this._delta,i=Math.cos(r),n=Math.sin(r),s=[this._cosPhi*this._rx*i-this._sinPhi*this._ry*n+this._C[0],this._sinPhi*this._rx*i+this._cosPhi*this._ry*n+this._C[1]],a=[this._from[0]+this._T*(-this._cosPhi*this._rx*e-this._sinPhi*this._ry*t),this._from[1]+this._T*(-this._sinPhi*this._rx*e+this._cosPhi*this._ry*t)],o=[s[0]+this._T*(this._cosPhi*this._rx*n+this._sinPhi*this._ry*i),s[1]+this._T*(this._sinPhi*this._rx*n-this._cosPhi*this._ry*i)];return this._theta=r,this._from=[s[0],s[1]],this._segIndex++,{cp1:a,cp2:o,to:s}}},{key:"calculateVectorAngle",value:function(t,e,r,i){var n=Math.atan2(e,t),s=Math.atan2(i,r);return s>=n?s-n:2*Math.PI-(n-s)}}]),t}(),b=function(){function t(e,r){(0,o.default)(this,t),this.sets=e,this.closed=r}return(0,h.default)(t,[{key:"fit",value:function(t){var e,r=[],i=c(this.sets);try{for(i.s();!(e=i.n()).done;){var n=e.value,s=n.length,a=Math.floor(t*s);if(a<5){if(s<=5)continue;a=5}r.push(this.reduce(n,a))}}catch(t){i.e(t)}finally{i.f()}for(var o="",h=0,u=r;h<u.length;h++){for(var l=u[h],f=0;f<l.length;f++){var p=l[f];o+=0===f?"M"+p[0]+","+p[1]:"L"+p[0]+","+p[1]}this.closed&&(o+="z ")}return o}},{key:"distance",value:function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}},{key:"reduce",value:function(t,e){if(t.length<=e)return t;for(var r=t.slice(0);r.length>e;){for(var i=-1,n=-1,s=1;s<r.length-1;s++){var a=this.distance(r[s-1],r[s]),o=this.distance(r[s],r[s+1]),h=this.distance(r[s-1],r[s+1]),u=(a+o+h)/2,l=Math.sqrt(u*(u-a)*(u-o)*(u-h));(i<0||l<i)&&(i=l,n=s)}if(!(n>0))break;r.splice(n,1)}return r}}]),t}(),_=function(){function t(e,r){(0,o.default)(this,t),this.xi=Number.MAX_VALUE,this.yi=Number.MAX_VALUE,this.px1=e[0],this.py1=e[1],this.px2=r[0],this.py2=r[1],this.a=this.py2-this.py1,this.b=this.px1-this.px2,this.c=this.px2*this.py1-this.px1*this.py2,this._undefined=0===this.a&&0===this.b&&0===this.c}return(0,h.default)(t,[{key:"isUndefined",value:function(){return this._undefined}},{key:"intersects",value:function(t){if(this.isUndefined()||t.isUndefined())return!1;var e=Number.MAX_VALUE,r=Number.MAX_VALUE,i=0,n=0,s=this.a,a=this.b,o=this.c;return Math.abs(a)>1e-5&&(e=-s/a,i=-o/a),Math.abs(t.b)>1e-5&&(r=-t.a/t.b,n=-t.c/t.b),e===Number.MAX_VALUE?r===Number.MAX_VALUE?-o/s==-t.c/t.a&&(this.py1>=Math.min(t.py1,t.py2)&&this.py1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.py2>=Math.min(t.py1,t.py2)&&this.py2<=Math.max(t.py1,t.py2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=this.px1,this.yi=r*this.xi+n,!((this.py1-this.yi)*(this.yi-this.py2)<-1e-5||(t.py1-this.yi)*(this.yi-t.py2)<-1e-5)&&(!(Math.abs(t.a)<1e-5)||!((t.px1-this.xi)*(this.xi-t.px2)<-1e-5))):r===Number.MAX_VALUE?(this.xi=t.px1,this.yi=e*this.xi+i,!((t.py1-this.yi)*(this.yi-t.py2)<-1e-5||(this.py1-this.yi)*(this.yi-this.py2)<-1e-5)&&(!(Math.abs(s)<1e-5)||!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5))):e===r?i===n&&(this.px1>=Math.min(t.px1,t.px2)&&this.px1<=Math.max(t.py1,t.py2)?(this.xi=this.px1,this.yi=this.py1,!0):this.px2>=Math.min(t.px1,t.px2)&&this.px2<=Math.max(t.px1,t.px2)&&(this.xi=this.px2,this.yi=this.py2,!0)):(this.xi=(n-i)/(e-r),this.yi=e*this.xi+i,!((this.px1-this.xi)*(this.xi-this.px2)<-1e-5||(t.px1-this.xi)*(this.xi-t.px2)<-1e-5))}}]),t}(),k=function(){function t(e,r,i,n,s,a,h,u){(0,o.default)(this,t),this.deltaX=0,this.hGap=0,this.top=e,this.bottom=r,this.left=i,this.right=n,this.gap=s,this.sinAngle=a,this.tanAngle=u,Math.abs(a)<1e-4?this.pos=i+s:Math.abs(a)>.9999?this.pos=e+s:(this.deltaX=(r-e)*Math.abs(u),this.pos=i-Math.abs(this.deltaX),this.hGap=Math.abs(s/h),this.sLeft=new _([i,r],[i,e]),this.sRight=new _([n,r],[n,e]))}return(0,h.default)(t,[{key:"nextLine",value:function(){if(Math.abs(this.sinAngle)<1e-4){if(this.pos<this.right){var t=[this.pos,this.top,this.pos,this.bottom];return this.pos+=this.gap,t}}else if(Math.abs(this.sinAngle)>.9999){if(this.pos<this.bottom){var e=[this.left,this.pos,this.right,this.pos];return this.pos+=this.gap,e}}else{var r=this.pos-this.deltaX/2,i=this.pos+this.deltaX/2,n=this.bottom,s=this.top;if(this.pos<this.right+this.deltaX){for(;r<this.left&&i<this.left||r>this.right&&i>this.right;)if(this.pos+=this.hGap,r=this.pos-this.deltaX/2,i=this.pos+this.deltaX/2,this.pos>this.right+this.deltaX)return null;var a=new _([r,n],[i,s]);this.sLeft&&a.intersects(this.sLeft)&&(r=a.xi,n=a.yi),this.sRight&&a.intersects(this.sRight)&&(i=a.xi,s=a.yi),this.tanAngle>0&&(r=this.right-(r-this.left),i=this.right-(i-this.left));var o=[r,n,i,s];return this.pos+=this.hGap,o}}return null}}]),t}();function x(t){var e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}function m(t,e){for(var r=[],i=new _([t[0],t[1]],[t[2],t[3]]),n=0;n<e.length;n++){var s=new _(e[n],e[(n+1)%e.length]);i.intersects(s)&&r.push([i.xi,i.yi])}return r}function M(t,e,r,i,n,s,a){return[-r*s-i*n+r+s*t+n*e,a*(r*n-i*s)+i+-a*n*t+a*s*e]}function w(t,e){var r=[];if(t&&t.length){for(var i=t[0][0],n=t[0][0],s=t[0][1],a=t[0][1],o=1;o<t.length;o++)i=Math.min(i,t[o][0]),n=Math.max(n,t[o][0]),s=Math.min(s,t[o][1]),a=Math.max(a,t[o][1]);var h=e.hachureAngle,u=e.hachureGap;u<0&&(u=4*e.strokeWidth),u=Math.max(u,.1);for(var l,c=h%180*(Math.PI/180),f=Math.cos(c),p=Math.sin(c),d=Math.tan(c),v=new k(s-1,a+1,i-1,n+1,u,p,f,d);null!=(l=v.nextLine());)for(var y=m(l,t),g=0;g<y.length;g++)if(g<y.length-1){var b=y[g],_=y[g+1];r.push([b,_])}}return r}function P(t,e,r,i,n,s){var a=[],o=Math.abs(r/2),h=Math.abs(i/2);o+=s.getOffset(.05*-o,.05*o,n),h+=s.getOffset(.05*-h,.05*h,n);var u=n.hachureAngle,l=n.hachureGap;l<=0&&(l=4*n.strokeWidth);var c=n.fillWeight;c<0&&(c=n.strokeWidth/2);for(var f=u%180*(Math.PI/180),p=Math.tan(f),d=h/o,v=Math.sqrt(d*p*d*p+1),y=d*p/v,g=1/v,b=l/(o*h/Math.sqrt(h*g*(h*g)+o*y*(o*y))/o),_=Math.sqrt(o*o-(t-o+b)*(t-o+b)),k=t-o+b;k<t+o;k+=b){var x=M(k,e-(_=Math.sqrt(o*o-(t-k)*(t-k))),t,e,y,g,d),m=M(k,e+_,t,e,y,g,d);a.push([x,m])}return a}var O=function(){function t(e){(0,o.default)(this,t),this.renderer=e}return(0,h.default)(t,[{key:"fillPolygon",value:function(t,e){return this._fillPolygon(t,e)}},{key:"fillEllipse",value:function(t,e,r,i,n){return this._fillEllipse(t,e,r,i,n)}},{key:"_fillPolygon",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=w(t,e),n=this.renderLines(i,e,r);return{type:"fillSketch",ops:n}}},{key:"_fillEllipse",value:function(t,e,r,i,n){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=P(t,e,r,i,n,this.renderer),o=this.renderLines(a,n,s);return{type:"fillSketch",ops:o}}},{key:"renderLines",value:function(t,e,r){var i,n=[],s=null,a=c(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;n=n.concat(this.renderer.doubleLine(o[0][0],o[0][1],o[1][0],o[1][1],e)),r&&s&&(n=n.concat(this.renderer.doubleLine(s[0],s[1],o[0][0],o[0][1],e))),s=o[1]}}catch(t){a.e(t)}finally{a.f()}return n}}]),t}(),A=function(t){(0,n.default)(r,t);var e=l(r);function r(){return(0,o.default)(this,r),e.apply(this,arguments)}return(0,h.default)(r,[{key:"fillPolygon",value:function(t,e){return this._fillPolygon(t,e,!0)}},{key:"fillEllipse",value:function(t,e,r,i,n){return this._fillEllipse(t,e,r,i,n,!0)}}]),r}(O),C=function(t){(0,n.default)(r,t);var e=l(r);function r(){return(0,o.default)(this,r),e.apply(this,arguments)}return(0,h.default)(r,[{key:"fillPolygon",value:function(t,e){var r=this._fillPolygon(t,e),i=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),n=this._fillPolygon(t,i);return r.ops=r.ops.concat(n.ops),r}},{key:"fillEllipse",value:function(t,e,r,i,n){var s=this._fillEllipse(t,e,r,i,n),a=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),o=this._fillEllipse(t,e,r,i,a);return s.ops=s.ops.concat(o.ops),s}}]),r}(O),S=function(){function t(e){(0,o.default)(this,t),this.renderer=e}return(0,h.default)(t,[{key:"fillPolygon",value:function(t,e){var r=w(t,e=Object.assign({},e,{curveStepCount:4,hachureAngle:0}));return this.dotsOnLines(r,e)}},{key:"fillEllipse",value:function(t,e,r,i,n){var s=P(t,e,r,i,n=Object.assign({},n,{curveStepCount:4,hachureAngle:0}),this.renderer);return this.dotsOnLines(s,n)}},{key:"dotsOnLines",value:function(t,e){var r=[],i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.max(i,.1);var n=e.fillWeight;n<0&&(n=e.strokeWidth/2);var s,a=c(t);try{for(a.s();!(s=a.n()).done;)for(var o=s.value,h=x(o)/i,u=Math.ceil(h)-1,l=Math.atan((o[1][1]-o[0][1])/(o[1][0]-o[0][0])),f=0;f<u;f++){var p=i*(f+1),d=p*Math.sin(l),v=p*Math.cos(l),y=[o[0][0]-v,o[0][1]+d],g=this.renderer.getOffset(y[0]-i/4,y[0]+i/4,e),b=this.renderer.getOffset(y[1]-i/4,y[1]+i/4,e),_=this.renderer.ellipse(g,b,n,n,e);r=r.concat(_.ops)}}catch(t){a.e(t)}finally{a.f()}return{type:"fillSketch",ops:r}}}]),t}(),q={};function T(t,e){var r=e.fillStyle||"hachure";if(!q[r])switch(r){case"zigzag":q[r]||(q[r]=new A(t));break;case"cross-hatch":q[r]||(q[r]=new C(t));break;case"dots":q[r]||(q[r]=new S(t));break;case"hachure":default:q[r="hachure"]||(q[r]=new O(t))}return q[r]}var R=function(){function t(){(0,o.default)(this,t)}return(0,h.default)(t,[{key:"line",value:function(t,e,r,i,n){return{type:"path",ops:this.doubleLine(t,e,r,i,n)}}},{key:"linearPath",value:function(t,e,r){var i=(t||[]).length;if(i>2){for(var n=[],s=0;s<i-1;s++)n=n.concat(this.doubleLine(t[s][0],t[s][1],t[s+1][0],t[s+1][1],r));return e&&(n=n.concat(this.doubleLine(t[i-1][0],t[i-1][1],t[0][0],t[0][1],r))),{type:"path",ops:n}}return 2===i?this.line(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}},{key:"polygon",value:function(t,e){return this.linearPath(t,!0,e)}},{key:"rectangle",value:function(t,e,r,i,n){var s=[[t,e],[t+r,e],[t+r,e+i],[t,e+i]];return this.polygon(s,n)}},{key:"curve",value:function(t,e){var r=this._curveWithOffset(t,1*(1+.2*e.roughness),e),i=this._curveWithOffset(t,1.5*(1+.22*e.roughness),e);return{type:"path",ops:r.concat(i)}}},{key:"ellipse",value:function(t,e,r,i,n){var s=2*Math.PI/n.curveStepCount,a=Math.abs(r/2),o=Math.abs(i/2);a+=this.getOffset(.05*-a,.05*a,n),o+=this.getOffset(.05*-o,.05*o,n);var h=this._ellipse(s,t,e,a,o,1,s*this.getOffset(.1,this.getOffset(.4,1,n),n),n),u=this._ellipse(s,t,e,a,o,1.5,0,n);return{type:"path",ops:h.concat(u)}}},{key:"arc",value:function(t,e,r,i,n,s,a,o,h){var u=t,l=e,c=Math.abs(r/2),f=Math.abs(i/2);c+=this.getOffset(.01*-c,.01*c,h),f+=this.getOffset(.01*-f,.01*f,h);for(var p=n,d=s;p<0;)p+=2*Math.PI,d+=2*Math.PI;d-p>2*Math.PI&&(p=0,d=2*Math.PI);var v=2*Math.PI/h.curveStepCount,y=Math.min(v/2,(d-p)/2),g=this._arc(y,u,l,c,f,p,d,1,h),b=this._arc(y,u,l,c,f,p,d,1.5,h),_=g.concat(b);return a&&(o?_=(_=_.concat(this.doubleLine(u,l,u+c*Math.cos(p),l+f*Math.sin(p),h))).concat(this.doubleLine(u,l,u+c*Math.cos(d),l+f*Math.sin(d),h)):(_.push({op:"lineTo",data:[u,l]}),_.push({op:"lineTo",data:[u+c*Math.cos(p),l+f*Math.sin(p)]}))),{type:"path",ops:_}}},{key:"svgPath",value:function(t,e){t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var r=new y(t);if(e.simplification){var i=new b(r.linearPoints,r.closed).fit(e.simplification);r=new y(i)}for(var n=[],s=r.segments||[],a=0;a<s.length;a++){var o=s[a],h=a>0?s[a-1]:null,u=this._processSegment(r,o,h,e);u&&u.length&&(n=n.concat(u))}return{type:"path",ops:n}}},{key:"solidFillPolygon",value:function(t,e){var r=[];if(t.length){var i=e.maxRandomnessOffset||0,n=t.length;if(n>2){r.push({op:"move",data:[t[0][0]+this.getOffset(-i,i,e),t[0][1]+this.getOffset(-i,i,e)]});for(var s=1;s<n;s++)r.push({op:"lineTo",data:[t[s][0]+this.getOffset(-i,i,e),t[s][1]+this.getOffset(-i,i,e)]})}}return{type:"fillPath",ops:r}}},{key:"patternFillPolygon",value:function(t,e){return T(this,e).fillPolygon(t,e)}},{key:"patternFillEllipse",value:function(t,e,r,i,n){return T(this,n).fillEllipse(t,e,r,i,n)}},{key:"patternFillArc",value:function(t,e,r,i,n,s,a){var o=t,h=e,u=Math.abs(r/2),l=Math.abs(i/2);u+=this.getOffset(.01*-u,.01*u,a),l+=this.getOffset(.01*-l,.01*l,a);for(var c=n,f=s;c<0;)c+=2*Math.PI,f+=2*Math.PI;f-c>2*Math.PI&&(c=0,f=2*Math.PI);for(var p=(f-c)/a.curveStepCount,d=[],v=c;v<=f;v+=p)d.push([o+u*Math.cos(v),h+l*Math.sin(v)]);return d.push([o+u*Math.cos(f),h+l*Math.sin(f)]),d.push([o,h]),this.patternFillPolygon(d,a)}},{key:"getOffset",value:function(t,e,r){return r.roughness*(Math.random()*(e-t)+t)}},{key:"doubleLine",value:function(t,e,r,i,n){var s=this._line(t,e,r,i,n,!0,!1),a=this._line(t,e,r,i,n,!0,!0);return s.concat(a)}},{key:"_line",value:function(t,e,r,i,n,s,a){var o=Math.pow(t-r,2)+Math.pow(e-i,2),h=n.maxRandomnessOffset||0;h*h*100>o&&(h=Math.sqrt(o)/10);var u=h/2,l=.2+.2*Math.random(),c=n.bowing*n.maxRandomnessOffset*(i-e)/200,f=n.bowing*n.maxRandomnessOffset*(t-r)/200;c=this.getOffset(-c,c,n),f=this.getOffset(-f,f,n);var p=[];return s&&(a?p.push({op:"move",data:[t+this.getOffset(-u,u,n),e+this.getOffset(-u,u,n)]}):p.push({op:"move",data:[t+this.getOffset(-h,h,n),e+this.getOffset(-h,h,n)]})),a?p.push({op:"bcurveTo",data:[c+t+(r-t)*l+this.getOffset(-u,u,n),f+e+(i-e)*l+this.getOffset(-u,u,n),c+t+2*(r-t)*l+this.getOffset(-u,u,n),f+e+2*(i-e)*l+this.getOffset(-u,u,n),r+this.getOffset(-u,u,n),i+this.getOffset(-u,u,n)]}):p.push({op:"bcurveTo",data:[c+t+(r-t)*l+this.getOffset(-h,h,n),f+e+(i-e)*l+this.getOffset(-h,h,n),c+t+2*(r-t)*l+this.getOffset(-h,h,n),f+e+2*(i-e)*l+this.getOffset(-h,h,n),r+this.getOffset(-h,h,n),i+this.getOffset(-h,h,n)]}),p}},{key:"_curve",value:function(t,e,r){var i=t.length,n=[];if(i>3){var s=[],a=1-r.curveTightness;n.push({op:"move",data:[t[1][0],t[1][1]]});for(var o=1;o+2<i;o++){var h=t[o];s[0]=[h[0],h[1]],s[1]=[h[0]+(a*t[o+1][0]-a*t[o-1][0])/6,h[1]+(a*t[o+1][1]-a*t[o-1][1])/6],s[2]=[t[o+1][0]+(a*t[o][0]-a*t[o+2][0])/6,t[o+1][1]+(a*t[o][1]-a*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],n.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}if(e&&2===e.length){var u=r.maxRandomnessOffset;n.push({op:"lineTo",data:[e[0]+this.getOffset(-u,u,r),e[1]+ +this.getOffset(-u,u,r)]})}}else 3===i?(n.push({op:"move",data:[t[1][0],t[1][1]]}),n.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===i&&(n=n.concat(this.doubleLine(t[0][0],t[0][1],t[1][0],t[1][1],r)));return n}},{key:"_ellipse",value:function(t,e,r,i,n,s,a,o){var h=this.getOffset(-.5,.5,o)-Math.PI/2,u=[];u.push([this.getOffset(-s,s,o)+e+.9*i*Math.cos(h-t),this.getOffset(-s,s,o)+r+.9*n*Math.sin(h-t)]);for(var l=h;l<2*Math.PI+h-.01;l+=t)u.push([this.getOffset(-s,s,o)+e+i*Math.cos(l),this.getOffset(-s,s,o)+r+n*Math.sin(l)]);return u.push([this.getOffset(-s,s,o)+e+i*Math.cos(h+2*Math.PI+.5*a),this.getOffset(-s,s,o)+r+n*Math.sin(h+2*Math.PI+.5*a)]),u.push([this.getOffset(-s,s,o)+e+.98*i*Math.cos(h+a),this.getOffset(-s,s,o)+r+.98*n*Math.sin(h+a)]),u.push([this.getOffset(-s,s,o)+e+.9*i*Math.cos(h+.5*a),this.getOffset(-s,s,o)+r+.9*n*Math.sin(h+.5*a)]),this._curve(u,null,o)}},{key:"_curveWithOffset",value:function(t,e,r){var i=[];i.push([t[0][0]+this.getOffset(-e,e,r),t[0][1]+this.getOffset(-e,e,r)]),i.push([t[0][0]+this.getOffset(-e,e,r),t[0][1]+this.getOffset(-e,e,r)]);for(var n=1;n<t.length;n++)i.push([t[n][0]+this.getOffset(-e,e,r),t[n][1]+this.getOffset(-e,e,r)]),n===t.length-1&&i.push([t[n][0]+this.getOffset(-e,e,r),t[n][1]+this.getOffset(-e,e,r)]);return this._curve(i,null,r)}},{key:"_arc",value:function(t,e,r,i,n,s,a,o,h){var u=s+this.getOffset(-.1,.1,h),l=[];l.push([this.getOffset(-o,o,h)+e+.9*i*Math.cos(u-t),this.getOffset(-o,o,h)+r+.9*n*Math.sin(u-t)]);for(var c=u;c<=a;c+=t)l.push([this.getOffset(-o,o,h)+e+i*Math.cos(c),this.getOffset(-o,o,h)+r+n*Math.sin(c)]);return l.push([e+i*Math.cos(a),r+n*Math.sin(a)]),l.push([e+i*Math.cos(a),r+n*Math.sin(a)]),this._curve(l,null,h)}},{key:"_bezierTo",value:function(t,e,r,i,n,s,a,o){for(var h=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.5],l=[0,0],c=0;c<2;c++)0===c?h.push({op:"move",data:[a.x,a.y]}):h.push({op:"move",data:[a.x+this.getOffset(-u[0],u[0],o),a.y+this.getOffset(-u[0],u[0],o)]}),l=[n+this.getOffset(-u[c],u[c],o),s+this.getOffset(-u[c],u[c],o)],h.push({op:"bcurveTo",data:[t+this.getOffset(-u[c],u[c],o),e+this.getOffset(-u[c],u[c],o),r+this.getOffset(-u[c],u[c],o),i+this.getOffset(-u[c],u[c],o),l[0],l[1]]});return a.setPosition(l[0],l[1]),h}},{key:"_processSegment",value:function(t,e,r,i){var n=[];switch(e.key){case"M":case"m":var s="m"===e.key;if(e.data.length>=2){var a=+e.data[0],o=+e.data[1];s&&(a+=t.x,o+=t.y);var h=1*(i.maxRandomnessOffset||0);a+=this.getOffset(-h,h,i),o+=this.getOffset(-h,h,i),t.setPosition(a,o),n.push({op:"move",data:[a,o]})}break;case"L":case"l":var u="l"===e.key;if(e.data.length>=2){var l=+e.data[0],c=+e.data[1];u&&(l+=t.x,c+=t.y),n=n.concat(this.doubleLine(t.x,t.y,l,c,i)),t.setPosition(l,c)}break;case"H":case"h":var f="h"===e.key;if(e.data.length){var p=+e.data[0];f&&(p+=t.x),n=n.concat(this.doubleLine(t.x,t.y,p,t.y,i)),t.setPosition(p,t.y)}break;case"V":case"v":var d="v"===e.key;if(e.data.length){var v=+e.data[0];d&&(v+=t.y),n=n.concat(this.doubleLine(t.x,t.y,t.x,v,i)),t.setPosition(t.x,v)}break;case"Z":case"z":t.first&&(n=n.concat(this.doubleLine(t.x,t.y,t.first[0],t.first[1],i)),t.setPosition(t.first[0],t.first[1]),t.first=null);break;case"C":case"c":var y="c"===e.key;if(e.data.length>=6){var b=+e.data[0],_=+e.data[1],k=+e.data[2],x=+e.data[3],m=+e.data[4],M=+e.data[5];y&&(b+=t.x,k+=t.x,m+=t.x,_+=t.y,x+=t.y,M+=t.y);var w=this._bezierTo(b,_,k,x,m,M,t,i);n=n.concat(w),t.bezierReflectionPoint=[m+(m-k),M+(M-x)]}break;case"S":case"s":var P="s"===e.key;if(e.data.length>=4){var O=+e.data[0],A=+e.data[1],C=+e.data[2],S=+e.data[3];P&&(O+=t.x,C+=t.x,A+=t.y,S+=t.y);var q=O,T=A,R=r?r.key:"",L=null;"c"!==R&&"C"!==R&&"s"!==R&&"S"!==R||(L=t.bezierReflectionPoint),L&&(q=L[0],T=L[1]);var E=this._bezierTo(q,T,O,A,C,S,t,i);n=n.concat(E),t.bezierReflectionPoint=[C+(C-O),S+(S-A)]}break;case"Q":case"q":var j="q"===e.key;if(e.data.length>=4){var z=+e.data[0],I=+e.data[1],D=+e.data[2],F=+e.data[3];j&&(z+=t.x,D+=t.x,I+=t.y,F+=t.y);var W=1*(1+.2*i.roughness),U=1.5*(1+.22*i.roughness);n.push({op:"move",data:[t.x+this.getOffset(-W,W,i),t.y+this.getOffset(-W,W,i)]});var V=[D+this.getOffset(-W,W,i),F+this.getOffset(-W,W,i)];n.push({op:"qcurveTo",data:[z+this.getOffset(-W,W,i),I+this.getOffset(-W,W,i),V[0],V[1]]}),n.push({op:"move",data:[t.x+this.getOffset(-U,U,i),t.y+this.getOffset(-U,U,i)]}),V=[D+this.getOffset(-U,U,i),F+this.getOffset(-U,U,i)],n.push({op:"qcurveTo",data:[z+this.getOffset(-U,U,i),I+this.getOffset(-U,U,i),V[0],V[1]]}),t.setPosition(V[0],V[1]),t.quadReflectionPoint=[D+(D-z),F+(F-I)]}break;case"T":case"t":var N="t"===e.key;if(e.data.length>=2){var B=+e.data[0],X=+e.data[1];N&&(B+=t.x,X+=t.y);var G=B,Q=X,H=r?r.key:"",Z=null;"q"!==H&&"Q"!==H&&"t"!==H&&"T"!==H||(Z=t.quadReflectionPoint),Z&&(G=Z[0],Q=Z[1]);var $=1*(1+.2*i.roughness),J=1.5*(1+.22*i.roughness);n.push({op:"move",data:[t.x+this.getOffset(-$,$,i),t.y+this.getOffset(-$,$,i)]});var K=[B+this.getOffset(-$,$,i),X+this.getOffset(-$,$,i)];n.push({op:"qcurveTo",data:[G+this.getOffset(-$,$,i),Q+this.getOffset(-$,$,i),K[0],K[1]]}),n.push({op:"move",data:[t.x+this.getOffset(-J,J,i),t.y+this.getOffset(-J,J,i)]}),K=[B+this.getOffset(-J,J,i),X+this.getOffset(-J,J,i)],n.push({op:"qcurveTo",data:[G+this.getOffset(-J,J,i),Q+this.getOffset(-J,J,i),K[0],K[1]]}),t.setPosition(K[0],K[1]),t.quadReflectionPoint=[B+(B-G),X+(X-Q)]}break;case"A":case"a":var Y="a"===e.key;if(e.data.length>=7){var tt=+e.data[0],et=+e.data[1],rt=+e.data[2],it=+e.data[3],nt=+e.data[4],st=+e.data[5],at=+e.data[6];if(Y&&(st+=t.x,at+=t.y),st===t.x&&at===t.y)break;if(0===tt||0===et)n=n.concat(this.doubleLine(t.x,t.y,st,at,i)),t.setPosition(st,at);else for(var ot=0;ot<1;ot++)for(var ht=new g([t.x,t.y],[st,at],[tt,et],rt,!!it,!!nt),ut=ht.getNextSegment();ut;){var lt=this._bezierTo(ut.cp1[0],ut.cp1[1],ut.cp2[0],ut.cp2[1],ut.to[0],ut.to[1],t,i);n=n.concat(lt),ut=ht.getNextSegment()}}}return n}}]),t}(),E="undefined"!=typeof self,j=E&&self&&self.document&&self.document.currentScript&&self.document.currentScript.src;var z="undefined"!=typeof self,I=function(){function t(e,r){(0,o.default)(this,t),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1},this.config=e||{},this.surface=r,this.renderer=function(t){if(E&&j&&self&&self.workly&&t.async&&!t.noWorker){var e=t.worklyURL||"https://cdn.jsdelivr.net/gh/pshihn/workly/dist/workly.min.js";if(e){var r="importScripts('".concat(e,"', '").concat(j,"');\nworkly.expose(self.rough.createRenderer());"),i=URL.createObjectURL(new Blob([r]));return self.workly.proxy(i)}}return new R}(this.config),this.config.options&&(this.defaultOptions=this._options(this.config.options))}return(0,h.default)(t,[{key:"_options",value:function(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}},{key:"_drawable",value:function(t,e,r){return{shape:t,sets:e||[],options:r||this.defaultOptions}}},{key:"getCanvasSize",value:function(){var t=function(t){return t&&"object"===(0,i.default)(t)&&t.baseVal&&t.baseVal.value?t.baseVal.value:t||100};return this.surface?[t(this.surface.width),t(this.surface.height)]:[100,100]}},{key:"computePolygonSize",value:function(t){if(t.length){for(var e=t[0][0],r=t[0][0],i=t[0][1],n=t[0][1],s=1;s<t.length;s++)e=Math.min(e,t[s][0]),r=Math.max(r,t[s][0]),i=Math.min(i,t[s][1]),n=Math.max(n,t[s][1]);return[r-e,n-i]}return[0,0]}},{key:"polygonPath",value:function(t){var e="";if(t.length){e="M".concat(t[0][0],",").concat(t[0][1]);for(var r=1;r<t.length;r++)e="".concat(e," L").concat(t[r][0],",").concat(t[r][1])}return e}},{key:"computePathSize",value:function(t){var e=[0,0];if(z&&self.document)try{var r="http://www.w3.org/2000/svg",i=self.document.createElementNS(r,"svg");i.setAttribute("width","0"),i.setAttribute("height","0");var n=self.document.createElementNS(r,"path");n.setAttribute("d",t),i.appendChild(n),self.document.body.appendChild(i);var s=n.getBBox();s&&(e[0]=s.width||0,e[1]=s.height||0),self.document.body.removeChild(i)}catch(t){}var a=this.getCanvasSize();return e[0]*e[1]||(e=a),e}},{key:"toPaths",value:function(t){var e,r=t.sets||[],i=t.options||this.defaultOptions,n=[],s=c(r);try{for(s.s();!(e=s.n()).done;){var a=e.value,o=null;switch(a.type){case"path":o={d:this.opsToPath(a),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:"none"};break;case"fillPath":o={d:this.opsToPath(a),stroke:"none",strokeWidth:0,fill:i.fill||"none"};break;case"fillSketch":o=this.fillSketch(a,i);break;case"path2Dfill":o={d:a.path||"",stroke:"none",strokeWidth:0,fill:i.fill||"none"};break;case"path2Dpattern":var h=a.size,u={x:0,y:0,width:1,height:1,viewBox:"0 0 ".concat(Math.round(h[0])," ").concat(Math.round(h[1])),patternUnits:"objectBoundingBox",path:this.fillSketch(a,i)};o={d:a.path,stroke:"none",strokeWidth:0,pattern:u}}o&&n.push(o)}}catch(t){s.e(t)}finally{s.f()}return n}},{key:"fillSketch",value:function(t,e){var r=e.fillWeight;return r<0&&(r=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||"none",strokeWidth:r,fill:"none"}}},{key:"opsToPath",value:function(t){var e,r="",i=c(t.ops);try{for(i.s();!(e=i.n()).done;){var n=e.value,s=n.data;switch(n.op){case"move":r+="M".concat(s[0]," ").concat(s[1]," ");break;case"bcurveTo":r+="C".concat(s[0]," ").concat(s[1],", ").concat(s[2]," ").concat(s[3],", ").concat(s[4]," ").concat(s[5]," ");break;case"qcurveTo":r+="Q".concat(s[0]," ").concat(s[1],", ").concat(s[2]," ").concat(s[3]," ");break;case"lineTo":r+="L".concat(s[0]," ").concat(s[1]," ")}}}catch(t){i.e(t)}finally{i.f()}return r.trim()}},{key:"lib",get:function(){return this.renderer}}]),t}(),D=function(t){(0,n.default)(r,t);var e=l(r);function r(t,i){return(0,o.default)(this,r),e.call(this,t,i)}return(0,h.default)(r,[{key:"line",value:function(t,e,r,i,n){var s=this._options(n);return this._drawable("line",[this.lib.line(t,e,r,i,s)],s)}},{key:"rectangle",value:function(t,e,r,i,n){var s=this._options(n),a=[];if(s.fill){var o=[[t,e],[t+r,e],[t+r,e+i],[t,e+i]];"solid"===s.fillStyle?a.push(this.lib.solidFillPolygon(o,s)):a.push(this.lib.patternFillPolygon(o,s))}return a.push(this.lib.rectangle(t,e,r,i,s)),this._drawable("rectangle",a,s)}},{key:"ellipse",value:function(t,e,r,i,n){var s=this._options(n),a=[];if(s.fill)if("solid"===s.fillStyle){var o=this.lib.ellipse(t,e,r,i,s);o.type="fillPath",a.push(o)}else a.push(this.lib.patternFillEllipse(t,e,r,i,s));return a.push(this.lib.ellipse(t,e,r,i,s)),this._drawable("ellipse",a,s)}},{key:"circle",value:function(t,e,r,i){var n=this.ellipse(t,e,r,r,i);return n.shape="circle",n}},{key:"linearPath",value:function(t,e){var r=this._options(e);return this._drawable("linearPath",[this.lib.linearPath(t,!1,r)],r)}},{key:"arc",value:function(t,e,r,i,n,s){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0,h=this._options(o),u=[];if(a&&h.fill)if("solid"===h.fillStyle){var l=this.lib.arc(t,e,r,i,n,s,!0,!1,h);l.type="fillPath",u.push(l)}else u.push(this.lib.patternFillArc(t,e,r,i,n,s,h));return u.push(this.lib.arc(t,e,r,i,n,s,a,!0,h)),this._drawable("arc",u,h)}},{key:"curve",value:function(t,e){var r=this._options(e);return this._drawable("curve",[this.lib.curve(t,r)],r)}},{key:"polygon",value:function(t,e){var r=this._options(e),i=[];if(r.fill)if("solid"===r.fillStyle)i.push(this.lib.solidFillPolygon(t,r));else{var n=this.computePolygonSize(t),s=[[0,0],[n[0],0],[n[0],n[1]],[0,n[1]]],a=this.lib.patternFillPolygon(s,r);a.type="path2Dpattern",a.size=n,a.path=this.polygonPath(t),i.push(a)}return i.push(this.lib.linearPath(t,!0,r)),this._drawable("polygon",i,r)}},{key:"path",value:function(t,e){var r=this._options(e),i=[];if(!t)return this._drawable("path",i,r);if(r.fill)if("solid"===r.fillStyle){var n={type:"path2Dfill",path:t,ops:[]};i.push(n)}else{var s=this.computePathSize(t),a=[[0,0],[s[0],0],[s[0],s[1]],[0,s[1]]],o=this.lib.patternFillPolygon(a,r);o.type="path2Dpattern",o.size=s,o.path=t,i.push(o)}return i.push(this.lib.svgPath(t,r)),this._drawable("path",i,r)}}]),r}(I),F="undefined"!=typeof document,W=function(){function t(e){(0,o.default)(this,t),this.canvas=e,this.ctx=this.canvas.getContext("2d")}return(0,h.default)(t,[{key:"draw",value:function(t){var e,r=t.sets||[],i=t.options||this.getDefaultOptions(),n=this.ctx,s=c(r);try{for(s.s();!(e=s.n()).done;){var a=e.value;switch(a.type){case"path":n.save(),n.strokeStyle=i.stroke,n.lineWidth=i.strokeWidth,this._drawToContext(n,a),n.restore();break;case"fillPath":n.save(),n.fillStyle=i.fill||"",this._drawToContext(n,a),n.restore();break;case"fillSketch":this.fillSketch(n,a,i);break;case"path2Dfill":this.ctx.save(),this.ctx.fillStyle=i.fill||"";var o=new Path2D(a.path);this.ctx.fill(o),this.ctx.restore();break;case"path2Dpattern":var h=this.canvas.ownerDocument||F&&document;if(h){var u=a.size,l=h.createElement("canvas"),f=l.getContext("2d"),p=this.computeBBox(a.path);p&&(p.width||p.height)?(l.width=this.canvas.width,l.height=this.canvas.height,f.translate(p.x||0,p.y||0)):(l.width=u[0],l.height=u[1]),this.fillSketch(f,a,i),this.ctx.save(),this.ctx.fillStyle=this.ctx.createPattern(l,"repeat");var d=new Path2D(a.path);this.ctx.fill(d),this.ctx.restore()}else console.error("Cannot render path2Dpattern. No defs/document defined.")}}}catch(t){s.e(t)}finally{s.f()}}},{key:"computeBBox",value:function(t){if(F)try{var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");r.setAttribute("width","0"),r.setAttribute("height","0");var i=self.document.createElementNS(e,"path");i.setAttribute("d",t),r.appendChild(i),document.body.appendChild(r);var n=i.getBBox();return document.body.removeChild(r),n}catch(t){}return null}},{key:"fillSketch",value:function(t,e,r){var i=r.fillWeight;i<0&&(i=r.strokeWidth/2),t.save(),t.strokeStyle=r.fill||"",t.lineWidth=i,this._drawToContext(t,e),t.restore()}},{key:"_drawToContext",value:function(t,e){t.beginPath();var r,i=c(e.ops);try{for(i.s();!(r=i.n()).done;){var n=r.value,s=n.data;switch(n.op){case"move":t.moveTo(s[0],s[1]);break;case"bcurveTo":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"qcurveTo":t.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"lineTo":t.lineTo(s[0],s[1])}}}catch(t){i.e(t)}finally{i.f()}"fillPath"===e.type?t.fill():t.stroke()}}],[{key:"createRenderer",value:function(){return new R}}]),t}(),U=function(t){(0,n.default)(r,t);var e=l(r);function r(t,i){var n;return(0,o.default)(this,r),(n=e.call(this,t)).gen=new D(i||null,n.canvas),n}return(0,h.default)(r,[{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(t,e,r,i,n){var s=this.gen.line(t,e,r,i,n);return this.draw(s),s}},{key:"rectangle",value:function(t,e,r,i,n){var s=this.gen.rectangle(t,e,r,i,n);return this.draw(s),s}},{key:"ellipse",value:function(t,e,r,i,n){var s=this.gen.ellipse(t,e,r,i,n);return this.draw(s),s}},{key:"circle",value:function(t,e,r,i){var n=this.gen.circle(t,e,r,i);return this.draw(n),n}},{key:"linearPath",value:function(t,e){var r=this.gen.linearPath(t,e);return this.draw(r),r}},{key:"polygon",value:function(t,e){var r=this.gen.polygon(t,e);return this.draw(r),r}},{key:"arc",value:function(t,e,r,i,n,s){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0,h=this.gen.arc(t,e,r,i,n,s,a,o);return this.draw(h),h}},{key:"curve",value:function(t,e){var r=this.gen.curve(t,e);return this.draw(r),r}},{key:"path",value:function(t,e){var r=this.gen.path(t,e);return this.draw(r),r}},{key:"generator",get:function(){return this.gen}}]),r}(W),V=function(e){(0,n.default)(g,e);var i,s,a,u,c,f,p,d,v,y=l(g);function g(){return(0,o.default)(this,g),y.apply(this,arguments)}return(0,h.default)(g,[{key:"line",value:(v=(0,r.default)(t.default.mark((function e(r,i,n,s,a){var o;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this._options(a),t.t0=this,t.next=4,this.lib.line(r,i,n,s,o);case 4:return t.t1=t.sent,t.t2=[t.t1],t.t3=o,t.abrupt("return",t.t0._drawable.call(t.t0,"line",t.t2,t.t3));case 8:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i,n){return v.apply(this,arguments)})},{key:"rectangle",value:(d=(0,r.default)(t.default.mark((function e(r,i,n,s,a){var o,h,u;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this._options(a),h=[],!o.fill){t.next=17;break}if(u=[[r,i],[r+n,i],[r+n,i+s],[r,i+s]],"solid"!==o.fillStyle){t.next=12;break}return t.t0=h,t.next=8,this.lib.solidFillPolygon(u,o);case 8:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.next=17;break;case 12:return t.t2=h,t.next=15,this.lib.patternFillPolygon(u,o);case 15:t.t3=t.sent,t.t2.push.call(t.t2,t.t3);case 17:return t.t4=h,t.next=20,this.lib.rectangle(r,i,n,s,o);case 20:return t.t5=t.sent,t.t4.push.call(t.t4,t.t5),t.abrupt("return",this._drawable("rectangle",h,o));case 23:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i,n){return d.apply(this,arguments)})},{key:"ellipse",value:(p=(0,r.default)(t.default.mark((function e(r,i,n,s,a){var o,h,u;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this._options(a),h=[],!o.fill){t.next=16;break}if("solid"!==o.fillStyle){t.next=11;break}return t.next=6,this.lib.ellipse(r,i,n,s,o);case 6:(u=t.sent).type="fillPath",h.push(u),t.next=16;break;case 11:return t.t0=h,t.next=14,this.lib.patternFillEllipse(r,i,n,s,o);case 14:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 16:return t.t2=h,t.next=19,this.lib.ellipse(r,i,n,s,o);case 19:return t.t3=t.sent,t.t2.push.call(t.t2,t.t3),t.abrupt("return",this._drawable("ellipse",h,o));case 22:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i,n){return p.apply(this,arguments)})},{key:"circle",value:(f=(0,r.default)(t.default.mark((function e(r,i,n,s){var a;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ellipse(r,i,n,n,s);case 2:return(a=t.sent).shape="circle",t.abrupt("return",a);case 5:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i){return f.apply(this,arguments)})},{key:"linearPath",value:(c=(0,r.default)(t.default.mark((function e(r,i){var n;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._options(i),t.t0=this,t.next=4,this.lib.linearPath(r,!1,n);case 4:return t.t1=t.sent,t.t2=[t.t1],t.t3=n,t.abrupt("return",t.t0._drawable.call(t.t0,"linearPath",t.t2,t.t3));case 8:case"end":return t.stop()}}),e,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"arc",value:(u=(0,r.default)(t.default.mark((function e(r,i,n,s,a,o){var h,u,l,c,f,p=arguments;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h=p.length>6&&void 0!==p[6]&&p[6],u=p.length>7?p[7]:void 0,l=this._options(u),c=[],!h||!l.fill){t.next=18;break}if("solid"!==l.fillStyle){t.next=13;break}return t.next=8,this.lib.arc(r,i,n,s,a,o,!0,!1,l);case 8:(f=t.sent).type="fillPath",c.push(f),t.next=18;break;case 13:return t.t0=c,t.next=16,this.lib.patternFillArc(r,i,n,s,a,o,l);case 16:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 18:return t.t2=c,t.next=21,this.lib.arc(r,i,n,s,a,o,h,!0,l);case 21:return t.t3=t.sent,t.t2.push.call(t.t2,t.t3),t.abrupt("return",this._drawable("arc",c,l));case 24:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i,n,s){return u.apply(this,arguments)})},{key:"curve",value:(a=(0,r.default)(t.default.mark((function e(r,i){var n;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._options(i),t.t0=this,t.next=4,this.lib.curve(r,n);case 4:return t.t1=t.sent,t.t2=[t.t1],t.t3=n,t.abrupt("return",t.t0._drawable.call(t.t0,"curve",t.t2,t.t3));case 8:case"end":return t.stop()}}),e,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"polygon",value:(s=(0,r.default)(t.default.mark((function e(r,i){var n,s,a,o,h;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._options(i),s=[],!n.fill){t.next=20;break}if("solid"!==n.fillStyle){t.next=11;break}return t.t0=s,t.next=7,this.lib.solidFillPolygon(r,n);case 7:t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.next=20;break;case 11:return a=this.computePolygonSize(r),o=[[0,0],[a[0],0],[a[0],a[1]],[0,a[1]]],t.next=15,this.lib.patternFillPolygon(o,n);case 15:(h=t.sent).type="path2Dpattern",h.size=a,h.path=this.polygonPath(r),s.push(h);case 20:return t.t2=s,t.next=23,this.lib.linearPath(r,!0,n);case 23:return t.t3=t.sent,t.t2.push.call(t.t2,t.t3),t.abrupt("return",this._drawable("polygon",s,n));case 26:case"end":return t.stop()}}),e,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"path",value:(i=(0,r.default)(t.default.mark((function e(r,i){var n,s,a,o,h,u;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._options(i),s=[],r){t.next=4;break}return t.abrupt("return",this._drawable("path",s,n));case 4:if(!n.fill){t.next=19;break}if("solid"!==n.fillStyle){t.next=10;break}a={type:"path2Dfill",path:r,ops:[]},s.push(a),t.next=19;break;case 10:return o=this.computePathSize(r),h=[[0,0],[o[0],0],[o[0],o[1]],[0,o[1]]],t.next=14,this.lib.patternFillPolygon(h,n);case 14:(u=t.sent).type="path2Dpattern",u.size=o,u.path=r,s.push(u);case 19:return t.t0=s,t.next=22,this.lib.svgPath(r,n);case 22:return t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.abrupt("return",this._drawable("path",s,n));case 25:case"end":return t.stop()}}),e,this)}))),function(t,e){return i.apply(this,arguments)})}]),g}(I),N=function(e){(0,n.default)(g,e);var i,s,a,u,c,f,p,d,v,y=l(g);function g(t,e){var r;return(0,o.default)(this,g),(r=y.call(this,t)).genAsync=new V(e||null,r.canvas),r}return(0,h.default)(g,[{key:"getDefaultOptions",value:function(){return this.genAsync.defaultOptions}},{key:"line",value:(v=(0,r.default)(t.default.mark((function e(r,i,n,s,a){var o;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.genAsync.line(r,i,n,s,a);case 2:return o=t.sent,this.draw(o),t.abrupt("return",o);case 5:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i,n){return v.apply(this,arguments)})},{key:"rectangle",value:(d=(0,r.default)(t.default.mark((function e(r,i,n,s,a){var o;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.genAsync.rectangle(r,i,n,s,a);case 2:return o=t.sent,this.draw(o),t.abrupt("return",o);case 5:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i,n){return d.apply(this,arguments)})},{key:"ellipse",value:(p=(0,r.default)(t.default.mark((function e(r,i,n,s,a){var o;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.genAsync.ellipse(r,i,n,s,a);case 2:return o=t.sent,this.draw(o),t.abrupt("return",o);case 5:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i,n){return p.apply(this,arguments)})},{key:"circle",value:(f=(0,r.default)(t.default.mark((function e(r,i,n,s){var a;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.genAsync.circle(r,i,n,s);case 2:return a=t.sent,this.draw(a),t.abrupt("return",a);case 5:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i){return f.apply(this,arguments)})},{key:"linearPath",value:(c=(0,r.default)(t.default.mark((function e(r,i){var n;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.genAsync.linearPath(r,i);case 2:return n=t.sent,this.draw(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),e,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"polygon",value:(u=(0,r.default)(t.default.mark((function e(r,i){var n;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.genAsync.polygon(r,i);case 2:return n=t.sent,this.draw(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),e,this)}))),function(t,e){return u.apply(this,arguments)})},{key:"arc",value:(a=(0,r.default)(t.default.mark((function e(r,i,n,s,a,o){var h,u,l,c=arguments;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=c.length>6&&void 0!==c[6]&&c[6],u=c.length>7?c[7]:void 0,t.next=4,this.genAsync.arc(r,i,n,s,a,o,h,u);case 4:return l=t.sent,this.draw(l),t.abrupt("return",l);case 7:case"end":return t.stop()}}),e,this)}))),function(t,e,r,i,n,s){return a.apply(this,arguments)})},{key:"curve",value:(s=(0,r.default)(t.default.mark((function e(r,i){var n;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.genAsync.curve(r,i);case 2:return n=t.sent,this.draw(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),e,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"path",value:(i=(0,r.default)(t.default.mark((function e(r,i){var n;return t.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.genAsync.path(r,i);case 2:return n=t.sent,this.draw(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),e,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"generator",get:function(){return this.genAsync}}]),g}(W),B=function(t,e){return e&&e.async?new N(t,e):new U(t,e)};!function(t,e){null==t&&(t=e("canvas").Context2d),null==t.prototype.ellipse&&(t.prototype.ellipse=function(t,e,r,i,n,s,a,o){this.save(),this.translate(t,e),this.rotate(n),this.scale(r,i),this.arc(0,0,1,s,a,o),this.restore()}),"function"==typeof Path2D&&"function"==typeof(new Path2D).addPath||function(){function e(t){if(this.ops_=[],null!=t)if("string"==typeof t)try{this.ops_=parser.parse(t)}catch(t){}else{if(!t.hasOwnProperty("ops_"))throw"Error: "+(0,i.default)(t)+"is not a valid argument to Path";this.ops_=t.ops_.slice(0)}}parser=function(){function t(t,e,r,i,n,s){this.message=t,this.expected=e,this.found=r,this.offset=i,this.line=n,this.column=s,this.name="SyntaxError"}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),{SyntaxError:t,parse:function(e){var r,i=arguments.length>1?arguments[1]:{},n={},s={svg_path:_t},a=_t,o=n,h=null,u=function(t){return oe},l=/^[Mm]/,c={type:"class",value:"[Mm]",description:"[Mm]"},f=function(t,e){var r=t;he&&(r="M",he=!1),oe.push({type:"moveTo",args:ce(r,e[0])});for(var i=1;i<e.length;i++)oe.push({type:"lineTo",args:ce(t,e[i])})},p=function(t,e){return ye(t,e)},d=/^[Zz]/,v={type:"class",value:"[Zz]",description:"[Zz]"},y=function(){oe.push({type:"closePath",args:[]})},g=/^[Ll]/,b={type:"class",value:"[Ll]",description:"[Ll]"},_=function(t,e){for(var r=0;r<e.length;r++)oe.push({type:"lineTo",args:ce(t,e[r])})},k=/^[Hh]/,x={type:"class",value:"[Hh]",description:"[Hh]"},m=function(t,e){for(var r=0;r<e.length;r++)oe.push({type:"lineTo",args:de(t,e[r])})},M=/^[Vv]/,w={type:"class",value:"[Vv]",description:"[Vv]"},P=function(t,e){for(var r=0;r<e.length;r++)oe.push({type:"lineTo",args:ve(t,e[r])})},O=/^[Cc]/,A={type:"class",value:"[Cc]",description:"[Cc]"},C=function(t,e){for(var r=0;r<e.length;r++)oe.push({type:"bezierCurveTo",args:fe(t,e[r])})},S=function(t,e,r){return t.concat(e,r)},q=/^[Ss]/,T={type:"class",value:"[Ss]",description:"[Ss]"},R=function(t,e){for(var r=0;r<e.length;r++)oe.push({type:"bezierCurveTo",args:pe().concat(fe(t,e[r]))})},L=function(t,e){return t.concat(e)},E=/^[Qq]/,j={type:"class",value:"[Qq]",description:"[Qq]"},z=function(t,e){for(var r=0;r<e.length;r++)oe.push({type:"quadraticCurveTo",args:fe(t,e[r])})},I=/^[Tt]/,D={type:"class",value:"[Tt]",description:"[Tt]"},F=function(t,e){for(var r=0;r<e.length;r++){var i=pe();oe.push({type:"quadraticCurveTo",args:i.concat(fe(t,e[r]))}),ae=i.slice(0)}},W=/^[Aa]/,U={type:"class",value:"[Aa]",description:"[Aa]"},V=function(t,e){for(var r=0;r<e.length;r++){var i=[se.slice()],n=[ce(t,e[r].slice(-2))];absArgs=i.concat(e[r].slice(0,-2),n),Se.apply(this,absArgs)}},N=function(t,e,r,i,n,s){return[parseFloat(t),parseFloat(e),parseFloat(le(r).join("")),parseInt(i),parseInt(n),s[0],s[1]]},B=function(t,e){return[t,e]},X=function(t){return parseFloat(le(t).join(""))},G="0",Q={type:"literal",value:"0",description:'"0"'},H="1",Z={type:"literal",value:"1",description:'"1"'},$=",",J={type:"literal",value:",",description:'","'},K=".",Y={type:"literal",value:".",description:'"."'},tt=/^[eE]/,et={type:"class",value:"[eE]",description:"[eE]"},rt="+",it={type:"literal",value:"+",description:'"+"'},nt="-",st={type:"literal",value:"-",description:'"-"'},at=/^[0-9]/,ot={type:"class",value:"[0-9]",description:"[0-9]"},ht=function(t){return t.join("")},ut=/^[ \t\n\r]/,lt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},ct=0,ft=0,pt={line:1,column:1,seenCR:!1},dt=0,vt=[];if("startRule"in i){if(!(i.startRule in s))throw new Error("Can't start parsing from rule \""+i.startRule+'".');a=s[i.startRule]}function yt(t){return ft!==t&&(ft>t&&(ft=0,pt={line:1,column:1,seenCR:!1}),function(t,r,i){var n,s;for(n=r;n<i;n++)"\n"===(s=e.charAt(n))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(pt,ft,t),ft=t),pt}function gt(t){ct<dt||(ct>dt&&(dt=ct,vt=[]),vt.push(t))}function bt(r,i,n){var s=yt(n),a=n<e.length?e.charAt(n):null;return null!==i&&function(t){var e=1;for(t.sort((function(t,e){return t.description<e.description?-1:t.description>e.description?1:0}));e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(i),new t(null!==r?r:function(t,e){var r,i=new Array(t.length);for(r=0;r<t.length;r++)i[r]=t[r].description;return"Expected "+(t.length>1?i.slice(0,-1).join(", ")+" or "+i[t.length-1]:i[0])+" but "+(e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(t){return"\\x"+e(t)})).replace(/[\u0180-\u0FFF]/g,(function(t){return"\\u0"+e(t)})).replace(/[\u1080-\uFFFF]/g,(function(t){return"\\u"+e(t)}))}(e)+'"':"end of input")+" found."}(i,a),i,a,n,s.line,s.column)}function _t(){var t,e,r,i,s;for(t=ct,e=[],r=ne();r!==n;)e.push(r),r=ne();if(e!==n)if((r=kt())===n&&(r=h),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n?t=e=u():(ct=t,t=o)}else ct=t,t=o;else ct=t,t=o;return t}function kt(){var t,e,r,i,s;if(t=ct,(e=xt())!==n){for(r=ct,i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=kt())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=[e,r]:(ct=t,t=o)}else ct=t,t=o;return t}function xt(){var t,e,r,i,s;if(t=ct,(e=wt())!==n){for(r=ct,i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=mt())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=[e,r]:(ct=t,t=o)}else ct=t,t=o;return t}function mt(){var t,e,r,i,s;if(t=ct,(e=Mt())!==n){for(r=ct,i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=mt())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=[e,r]:(ct=t,t=o)}else ct=t,t=o;return t}function Mt(){var t;return(t=Ot())===n&&(t=At())===n&&(t=St())===n&&(t=Tt())===n&&(t=Rt())===n&&(t=jt())===n&&(t=Dt())===n&&(t=Ut())===n&&(t=Nt()),t}function wt(){var t,r,i,s;if(t=ct,l.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(c)),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=Pt())!==n?t=r=f(r,s):(ct=t,t=o)}else ct=t,t=o;return t}function Pt(){var t,e,r,i,s;return t=ct,(e=Gt())!==n?(r=ct,(i=Jt())===n&&(i=h),i!==n&&(s=Ct())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=p(e,r):(ct=t,t=o)):(ct=t,t=o),t}function Ot(){var t;return ct,d.test(e.charAt(ct))?(t=e.charAt(ct),ct++):(t=n,gt(v)),t!==n&&(t=y()),t}function At(){var t,r,i,s;if(t=ct,g.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(b)),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=Ct())!==n?t=r=_(r,s):(ct=t,t=o)}else ct=t,t=o;return t}function Ct(){var t,e,r,i,s;return t=ct,(e=Gt())!==n?(r=ct,(i=Jt())===n&&(i=h),i!==n&&(s=Ct())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=p(e,r):(ct=t,t=o)):(ct=t,t=o),t}function St(){var t,r,i,s;if(t=ct,k.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(x)),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=qt())!==n?t=r=m(r,s):(ct=t,t=o)}else ct=t,t=o;return t}function qt(){var t,e,r,i,s;return t=ct,(e=Qt())!==n?(r=ct,(i=Jt())===n&&(i=h),i!==n&&(s=qt())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=p(e,r):(ct=t,t=o)):(ct=t,t=o),t}function Tt(){var t,r,i,s;if(t=ct,M.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(w)),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=qt())!==n?t=r=P(r,s):(ct=t,t=o)}else ct=t,t=o;return t}function Rt(){var t,r,i,s;if(t=ct,O.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(A)),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=Lt())!==n?t=r=C(r,s):(ct=t,t=o)}else ct=t,t=o;return t}function Lt(){var t,e,r,i,s;return t=ct,(e=Et())!==n?(r=ct,(i=Jt())===n&&(i=h),i!==n&&(s=Lt())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=p(e,r):(ct=t,t=o)):(ct=t,t=o),t}function Et(){var t,e,r,i,s,a;return t=ct,(e=Gt())!==n?((r=Jt())===n&&(r=h),r!==n&&(i=Gt())!==n?((s=Jt())===n&&(s=h),s!==n&&(a=Gt())!==n?t=e=S(e,i,a):(ct=t,t=o)):(ct=t,t=o)):(ct=t,t=o),t}function jt(){var t,r,i,s;if(t=ct,q.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(T)),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=zt())!==n?t=r=R(r,s):(ct=t,t=o)}else ct=t,t=o;return t}function zt(){var t,e,r,i,s;return t=ct,(e=It())!==n?(r=ct,(i=Jt())===n&&(i=h),i!==n&&(s=zt())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=p(e,r):(ct=t,t=o)):(ct=t,t=o),t}function It(){var t,e,r,i;return t=ct,(e=Gt())!==n?((r=Jt())===n&&(r=h),r!==n&&(i=Gt())!==n?t=e=L(e,i):(ct=t,t=o)):(ct=t,t=o),t}function Dt(){var t,r,i,s;if(t=ct,E.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(j)),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=Ft())!==n?t=r=z(r,s):(ct=t,t=o)}else ct=t,t=o;return t}function Ft(){var t,e,r,i,s;return t=ct,(e=Wt())!==n?(r=ct,(i=Jt())===n&&(i=h),i!==n&&(s=Ft())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=p(e,r):(ct=t,t=o)):(ct=t,t=o),t}function Wt(){var t,e,r,i;return t=ct,(e=Gt())!==n?((r=Jt())===n&&(r=h),r!==n&&(i=Gt())!==n?t=e=L(e,i):(ct=t,t=o)):(ct=t,t=o),t}function Ut(){var t,r,i,s;if(t=ct,I.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(D)),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=Vt())!==n?t=r=F(r,s):(ct=t,t=o)}else ct=t,t=o;return t}function Vt(){var t,e,r,i,s;return t=ct,(e=Gt())!==n?(r=ct,(i=Jt())===n&&(i=h),i!==n&&(s=Vt())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=p(e,r):(ct=t,t=o)):(ct=t,t=o),t}function Nt(){var t,r,i,s;if(t=ct,W.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(U)),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n&&(s=Bt())!==n?t=r=V(r,s):(ct=t,t=o)}else ct=t,t=o;return t}function Bt(){var t,e,r,i,s;return t=ct,(e=Xt())!==n?(r=ct,(i=Jt())===n&&(i=h),i!==n&&(s=Bt())!==n?r=i=[i,s]:(ct=r,r=o),r===n&&(r=h),r!==n?t=e=p(e,r):(ct=t,t=o)):(ct=t,t=o),t}function Xt(){var t,e,r,i,s,a,u,l,c,f,p;return t=ct,(e=Ht())!==n?((r=Jt())===n&&(r=h),r!==n&&(i=Ht())!==n?((s=Jt())===n&&(s=h),s!==n&&(a=Zt())!==n&&Jt()!==n&&(u=$t())!==n?((l=Jt())===n&&(l=h),l!==n&&(c=$t())!==n?((f=Jt())===n&&(f=h),f!==n&&(p=Gt())!==n?t=e=N(e,i,a,u,c,p):(ct=t,t=o)):(ct=t,t=o)):(ct=t,t=o)):(ct=t,t=o)):(ct=t,t=o),t}function Gt(){var t,e,r,i;return t=ct,(e=Qt())!==n?((r=Jt())===n&&(r=h),r!==n&&(i=Qt())!==n?t=e=B(e,i):(ct=t,t=o)):(ct=t,t=o),t}function Qt(){var t;return ct,(t=Zt())!==n&&(t=X(t)),t}function Ht(){var t;return(t=Yt())===n&&(t=ie()),t}function Zt(){var t,e,r;return t=ct,(e=re())===n&&(e=h),e!==n&&(r=Yt())!==n?t=e=[e,r]:(ct=t,t=o),t===n&&(t=ct,(e=re())===n&&(e=h),e!==n&&(r=ie())!==n?t=e=[e,r]:(ct=t,t=o)),t}function $t(){var t;return 48===e.charCodeAt(ct)?(t=G,ct++):(t=n,gt(Q)),t===n&&(49===e.charCodeAt(ct)?(t=H,ct++):(t=n,gt(Z))),t}function Jt(){var t,e,r,i,s;if(t=ct,e=[],(r=ne())!==n)for(;r!==n;)e.push(r),r=ne();else e=o;if(e!==n)if((r=Kt())===n&&(r=h),r!==n){for(i=[],s=ne();s!==n;)i.push(s),s=ne();i!==n?t=e=[e,r,i]:(ct=t,t=o)}else ct=t,t=o;else ct=t,t=o;if(t===n)if(t=ct,(e=Kt())!==n){for(r=[],i=ne();i!==n;)r.push(i),i=ne();r!==n?t=e=[e,r]:(ct=t,t=o)}else ct=t,t=o;return t}function Kt(){var t;return 44===e.charCodeAt(ct)?(t=$,ct++):(t=n,gt(J)),t}function Yt(){var t,e,r;return t=ct,(e=te())!==n?((r=ee())===n&&(r=h),r!==n?t=e=[e,r]:(ct=t,t=o)):(ct=t,t=o),t===n&&(t=ct,(e=ie())!==n&&(r=ee())!==n?t=e=[e,r]:(ct=t,t=o)),t}function te(){var t,r,i,s;return t=ct,(r=ie())===n&&(r=h),r!==n?(46===e.charCodeAt(ct)?(i=K,ct++):(i=n,gt(Y)),i!==n&&(s=ie())!==n?t=r=[r,i,s]:(ct=t,t=o)):(ct=t,t=o),t===n&&(t=ct,(r=ie())!==n?(46===e.charCodeAt(ct)?(i=K,ct++):(i=n,gt(Y)),i!==n?t=r=[r,i]:(ct=t,t=o)):(ct=t,t=o)),t}function ee(){var t,r,i,s;return t=ct,tt.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(et)),r!==n?((i=re())===n&&(i=h),i!==n&&(s=ie())!==n?t=r=[r,i,s]:(ct=t,t=o)):(ct=t,t=o),t}function re(){var t;return 43===e.charCodeAt(ct)?(t=rt,ct++):(t=n,gt(it)),t===n&&(45===e.charCodeAt(ct)?(t=nt,ct++):(t=n,gt(st))),t}function ie(){var t,r;if(ct,t=[],at.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(ot)),r!==n)for(;r!==n;)t.push(r),at.test(e.charAt(ct))?(r=e.charAt(ct),ct++):(r=n,gt(ot));else t=o;return t!==n&&(t=ht(t)),t}function ne(){var t;return ut.test(e.charAt(ct))?(t=e.charAt(ct),ct++):(t=n,gt(lt)),t}var se=[0,0],ae=[0,0],oe=[],he=!0,ue="";function le(t){for(var e=[],r=0;r<t.length;r++)t[r]instanceof Array?e.push.apply(e,le(t[r])):e.push(t[r]);return e}function ce(t,e){return-1==="mlazhvcsqt".indexOf(t)?se=e:(se[0]+=e[0],se[1]+=e[1]),ue=t,se.slice(0)}function fe(t,e){for(var r=[],i=se.slice(0),n=0;n<e.length;n+=2){se=i.slice(0);var s=ce(t,e.slice(n,n+2));r=r.concat(s),n==e.length-4&&(ae=s.slice(0))}return r}function pe(){-1=="CcSsQqTt".indexOf(ue)&&(ae=se.slice(0));var t=[0,0];return t[0]=2*se[0]-ae[0],t[1]=2*se[1]-ae[1],t}function de(t,e){var r=[e,0];return"H"==t&&(r[1]=se[1]),ce(t,r)}function ve(t,e){var r=[0,e];return"V"==t&&(r[0]=se[0]),ce(t,r)}function ye(t,e){var r=[t];if(e&&e.length>1)for(var i=e[1],n=0;n<i.length;n++)r.push(i[n]);return r}function ge(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function be(t,e){return t[0]*e[0]+t[1]*e[1]}function _e(t,e){return be(t,e)/(ge(t)*ge(e))}function ke(t,e,r){return Math.min(Math.max(val,e),r)}function xe(t,e){var r=1;return t[0]*e[1]-t[1]*e[0]<0&&(r=-1),r*Math.acos(ke(_e(t,e)),-1,1)}function me(t,e){var r=Math.cos(e),i=Math.sin(e);return[r*t[0]+i*t[1],-1*i*t[0]+r*t[1]]}function Me(t,e){var r=Math.cos(e),i=Math.sin(e);return[r*t[0]-i*t[1],i*t[0]+r*t[1]]}function we(t,e){return[(t[0]-e[0])/2,(t[1]-e[1])/2]}function Pe(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function Oe(t,e){return[t[0]*e[0],t[1]*e[1]]}function Ae(t,e){return[t*e[0],t*e[1]]}function Ce(t,e){return[t[0]+e[0],t[1]+e[1]]}function Se(t,e,r,i,n,s,a){if(0!=e&&0!=r){i=i*(Math.PI/180);e=Math.abs(e),r=Math.abs(r);var o=me(we(t,a),i),h=Oe(o,o),u=Math.pow(e,2),l=Math.pow(r,2),c=Math.sqrt(h[0]/u+h[1]/l);c>1&&(e*=c,r*=c,u=Math.pow(e,2),l=Math.pow(r,2));var f=Math.sqrt(Math.abs(u*l-u*h[1]-l*h[0])/(u*h[1]+l*h[0]));n==s&&(f*=-1);var p=Ae(f,[e*o[1]/r,-r*o[0]/e]),d=Ce(Me(p,i),Pe(t,a)),v=[(o[0]-p[0])/e,(o[1]-p[1])/r],y=[(-1*o[0]-p[0])/e,(-1*o[1]-p[1])/r],g=xe([1,0],v),b=g,_=g+xe(v,y);oe.push({type:"save",args:[]},{type:"translate",args:[d[0],d[1]]},{type:"rotate",args:[i]},{type:"scale",args:[e,r]},{type:"arc",args:[0,0,1,b,_,1-s]},{type:"restore",args:[]})}else oe.push({type:"lineTo",args:a})}if((r=a())!==n&&ct===e.length)return r;throw r!==n&&ct<e.length&&gt({type:"end",description:"end of input"}),bt(null,vt,dt)}}}();var r=["closePath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","rect","arc","arcTo","ellipse","isPointInPath","isPointInStroke"];function n(t){return function(){this.ops_.push({type:t,args:Array.prototype.slice.call(arguments,0)})}}for(var s=0;s<r.length;s++){var a=r[s];e.prototype[a]=n(a)}e.prototype.addPath=function(t,e){var r=!1;e&&null!=e.a&&null!=e.b&&null!=e.c&&null!=e.d&&null!=e.e&&null!=e.f&&(r=!0,this.ops_.push({type:"save",args:[]}),this.ops_.push({type:"transform",args:[e.a,e.b,e.c,e.d,e.e,e.f]})),this.ops_=this.ops_.concat(t.ops_),r&&this.ops_.push({type:"restore",args:[]})},original_fill=t.prototype.fill,original_stroke=t.prototype.stroke,original_clip=t.prototype.clip,original_is_point_in_path=t.prototype.isPointInPath,original_is_point_in_stroke=t.prototype.isPointInStroke,t.prototype.fill=function(r){if(r instanceof e){this.beginPath();for(var i=0,n=r.ops_.length;i<n;i++){var s=r.ops_[i];t.prototype[s.type].apply(this,s.args)}original_fill.apply(this,Array.prototype.slice.call(arguments,1))}else original_fill.apply(this,arguments)},t.prototype.stroke=function(r){if(r instanceof e){this.beginPath();for(var i=0,n=r.ops_.length;i<n;i++){var s=r.ops_[i];t.prototype[s.type].apply(this,s.args)}original_stroke.call(this)}else original_stroke.call(this)},t.prototype.clip=function(r){if(r instanceof e){this.beginPath();for(var i=0,n=r.ops_.length;i<n;i++){var s=r.ops_[i];t.prototype[s.type].apply(this,s.args)}original_clip.apply(this,Array.prototype.slice.call(arguments,1))}else original_clip.apply(this,arguments)},t.prototype.isPointInPath=function(r){if(r instanceof e){this.beginPath();for(var i=0,n=r.ops_.length;i<n;i++){var s=r.ops_[i];t.prototype[s.type].apply(this,s.args)}return original_is_point_in_path.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_path.apply(this,arguments)},t.prototype.isPointInStroke=function(r){if(r instanceof e){this.beginPath();for(var i=0,n=r.ops_.length;i<n;i++){var s=r.ops_[i];t.prototype[s.type].apply(this,s.args)}return original_is_point_in_stroke.apply(this,Array.prototype.slice.call(arguments,1))}return original_is_point_in_stroke.apply(this,arguments)},Path2D=e}()}("undefined"==typeof CanvasRenderingContext2D?void 0:CanvasRenderingContext2D,"undefined"==typeof require?void 0:require);var X=L.Canvas.extend({_initContainer:function(){L.Canvas.prototype._initContainer.call(this),this._rc=B(this._container),this._drawnLayers={}},_updatePoly:function(t,e){if(this._drawing){var r=t._parts,i=r.length;this._ctx;if(i){this._drawnLayers[t._leaflet_id]=t;var n=t.options,s={};s.roughness=n.roughness||1,s.bowing=n.bowing||1,s.stroke=n.strokeColor||"#000000",s.strokeWidth=n.strokeWidth||1,e&&(s.fill=n.fillColor||n.color,s.fillStyle=n.fillStyle||"",s.fillWeight=n.fillWeight||"",s.hachureAngle=n.hachureAngle||-41,s.hachureGap=n.hachureGap||4,s.simplification=n.simplification||.5),s.curveStepCount=n.curveStepCount||9;var a=L.SVG.pointsToPath(r,e);this._rc.path(a,s)}}}});L.Canvas.RoughCanvas=X,L.Canvas.roughCanvas=function(){return new X}}));
//# sourceMappingURL=leaflet-roughcanvas.js.map
